(()=>{"use strict";var e="";function t(e,t,o){t&&(function(e){return e.some(e=>!e.validity.valid)}(e)?(t.classList.add(o.inactiveButtonClass),t.disabled=!0):(t.classList.remove(o.inactiveButtonClass),t.disabled=!1))}const o=e+"8650253b58b46f0f1c06.svg",r=e+"1a536b73314cc37564a5.svg",n=e+"607ffd186447bbcfeafc.svg",c=e+"40608da7369d39bc1077.svg";var a;document.querySelector(".header__logo").src=o,document.querySelector(".profile__avatar").src=r,document.querySelector(".profile__edit-button img").src=n,document.querySelector(".profile__plus").src=c,a={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_inactive",inputErrorClass:"modal__input-error_active",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(a.formSelector)).forEach(e=>{!function(e,o){const r=Array.from(e.querySelectorAll(o.inputSelector)),n=e.querySelector(o.submitButtonSelector);r.forEach(c=>{c.addEventListener("input",()=>{!function(e,t,o){t.validity.valid?function(e,t,o){const r=e.querySelector(`.${t.id}-error`);r&&(r.textContent="",r.classList.remove(o.inputErrorClass))}(e,t,o):function(e,t,o,r){const n=e.querySelector(`.${t.id}-error`);n&&(n.textContent=o,n.classList.add(r.inputErrorClass))}(e,t,t.validationMessage,o)}(e,c,o),t(r,n,o)})}),t(r,n,o)}(e,a)});const l=document.querySelector(".profile__edit-button"),s=document.querySelector("#edit-profile-modal"),i=s.querySelector(".modal__form"),u=s.querySelector("#edit-name"),d=s.querySelector("#describe-yourself"),m=s.querySelector(".modal__close-button"),p=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),f=document.querySelector(".profile__post-button"),y=document.querySelector("#new-post-modal"),v=y.querySelector(".modal__form"),S=v.querySelector("#url"),q=v.querySelector("#caption-text"),b=(y.querySelector(".modal__save-button"),y.querySelector(".modal__close-button")),g=document.querySelector(".cards__list"),h=g.querySelector("#card-template"),w=document.querySelector("#modal__card-preview"),k=w.querySelector(".modal__preview-close"),E=w.querySelector(".modal__link"),L=w.querySelector(".modal__caption");Array.from(i.querySelectorAll(".modal__input")),Array.from(v.querySelectorAll(".modal__input"));let x=!1;function C(e){if("Escape"!==e.key)return;const t=document.querySelector(".modal_opened");t&&z(t)}function A(e){e.classList.add("modal_opened"),x||(document.addEventListener("keydown",C),x=!0)}function z(e){e.classList.remove("modal_opened"),x&&!document.querySelector(".modal_opened")&&(document.removeEventListener("keydown",C),x=!1)}function j(e){const t=h.content.cloneNode(!0),o=t.querySelector(".card__image");o.src=e.link,o.alt=e.name,t.querySelector(".card__name").textContent=e.name;const r=t.querySelector(".card__like-button");r.addEventListener("click",()=>{r.classList.toggle("card__like-button-clicked")});const n=t.querySelector(".card__delete-btn");return n.addEventListener("click",()=>{n.closest(".card").remove()}),o.addEventListener("click",()=>{L.textContent=e.name,E.src=e.link,E.alt=e.name,A(w)}),t}document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target.classList.contains("modal")&&z(e)})}),k.addEventListener("click",()=>{z(w)}),l.addEventListener("click",()=>{A(s),u.value=p.textContent,d.value=_.textContent}),i.addEventListener("submit",e=>{e.preventDefault(),p.textContent=u.value,_.textContent=d.value,z(s)}),m.addEventListener("click",()=>{z(s)}),f.addEventListener("click",e=>{!function(e){e.preventDefault(),A(y)}(e)}),v.addEventListener("submit",e=>{e.preventDefault();const t=j({name:q.value.trim(),link:S.value.trim()});g.prepend(t),v.reset(),z(y)}),b.addEventListener("click",()=>{z(y)}),[{name:"Horizontal Test",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach(e=>{const t=j(e);g.prepend(t)})})();